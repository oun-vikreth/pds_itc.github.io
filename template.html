<!DOCTYPE html>
<html lang="en"><head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="template_files/libs/clipboard/clipboard.min.js"></script>
<script src="template_files/libs/quarto-html/tabby.min.js"></script>
<script src="template_files/libs/quarto-html/popper.min.js"></script>
<script src="template_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="template_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="template_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="template_files/libs/quarto-html/quarto-syntax-highlighting-07ba0ad10f5680c660e360ac31d2f3b6.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.33">

  <meta name="author" content="NOR Phanit">
  <meta name="author" content="PEAN Chhinger">
  <meta name="author" content="PHAI Ratha">
  <meta name="author" content="OUN Vikreth">
  <meta name="dcterms.date" content="2024-12-10">
  <title>Mini Project Presentation</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="template_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="template_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="template_files/libs/revealjs/dist/theme/quarto-03c631882373ab6ca9279458ed3135a2.css">
  <link rel="stylesheet" href="style.css">
  <link href="template_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="template_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="template_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="template_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
  
  <script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Mini Project Presentation</h1>
  <p class="subtitle">Course: Programming for Data Science</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
NOR Phanit 
</div>
<div class="quarto-title-author-email">
<a href="mailto:e20200241">e20200241</a>
</div>
</div>
<div class="quarto-title-author">
<div class="quarto-title-author-name">
PEAN Chhinger 
</div>
<div class="quarto-title-author-email">
<a href="mailto:e20201339">e20201339</a>
</div>
</div>
<div class="quarto-title-author">
<div class="quarto-title-author-name">
PHAI Ratha 
</div>
<div class="quarto-title-author-email">
<a href="mailto:e20200190">e20200190</a>
</div>
</div>
<div class="quarto-title-author">
<div class="quarto-title-author-name">
OUN Vikreth 
</div>
<div class="quarto-title-author-email">
<a href="mailto:e20200485">e20200485</a>
</div>
</div>
</div>

  <p class="date">December 10, 2024</p>
</section>
<section>
<section id="problem-2-using-the-sf-salaries-dataset-from-kaggle-just-follow-along-and-complete-the-tasks-out-lined-below." class="title-slide slide level1 center">
<h1>Problem 2: Using the SF Salaries Dataset from Kaggle! Just follow along and complete the tasks out lined below.</h1>

</section>
<section id="section" class="slide level2">
<h2></h2>
<ol type="1">
<li>Import Pandas and read the Salaries.csv dataset.</li>
</ol>
<div id="42163925" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href=""></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href=""></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href=""></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-4"><a href=""></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="709d31a5" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href=""></a>data <span class="op">=</span> pd.read_csv(<span class="st">'datasets/Salaries.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-1" class="slide level2">
<h2></h2>
<ol start="2" type="1">
<li>Display the first few rows of the DataFrame and check the DataFrame’s information.</li>
</ol>
<div id="187fbd24" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href=""></a><span class="co"># check the unique values in the 'Notes' column</span></span>
<span id="cb3-2"><a href=""></a>data.head(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="318">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Id</th>
<th data-quarto-table-cell-role="th">EmployeeName</th>
<th data-quarto-table-cell-role="th">JobTitle</th>
<th data-quarto-table-cell-role="th">BasePay</th>
<th data-quarto-table-cell-role="th">OvertimePay</th>
<th data-quarto-table-cell-role="th">OtherPay</th>
<th data-quarto-table-cell-role="th">Benefits</th>
<th data-quarto-table-cell-role="th">TotalPay</th>
<th data-quarto-table-cell-role="th">TotalPayBenefits</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Notes</th>
<th data-quarto-table-cell-role="th">Agency</th>
<th data-quarto-table-cell-role="th">Status</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1</td>
<td>NATHANIEL FORD</td>
<td>GENERAL MANAGER-METROPOLITAN TRANSIT AUTHORITY</td>
<td>167411.18</td>
<td>0.0</td>
<td>400184.25</td>
<td>NaN</td>
<td>567595.43</td>
<td>567595.43</td>
<td>2011</td>
<td>NaN</td>
<td>San Francisco</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2</td>
<td>GARY JIMENEZ</td>
<td>CAPTAIN III (POLICE DEPARTMENT)</td>
<td>155966.02</td>
<td>245131.88</td>
<td>137811.38</td>
<td>NaN</td>
<td>538909.28</td>
<td>538909.28</td>
<td>2011</td>
<td>NaN</td>
<td>San Francisco</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="section-2" class="slide level2">
<h2></h2>
<ol start="3" type="1">
<li>Calculate the average Base Pay of the employees and find the highest Overtime Pay.</li>
</ol>
<div id="a7f7365c" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href=""></a>data[<span class="st">'BasePay'</span>] <span class="op">=</span> pd.to_numeric(data[<span class="st">'BasePay'</span>], errors<span class="op">=</span><span class="st">'coerce'</span>)</span>
<span id="cb4-2"><a href=""></a><span class="bu">print</span>(<span class="ss">f"The mean of BasePay is: </span><span class="sc">{</span>data[<span class="st">'BasePay'</span>]<span class="sc">.</span>mean()<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The mean of BasePay is: 66325.4488404877</code></pre>
</div>
</div>
<ol start="4" type="1">
<li>Identify the job title of the employee named JOSEPH DRISCOLL.</li>
</ol>
<div id="21cd8357" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href=""></a>data.query(<span class="st">'EmployeeName == "JOSEPH DRISCOLL"'</span>)[<span class="st">"JobTitle"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="320">
<pre><code>24    CAPTAIN, FIRE SUPPRESSION
Name: JobTitle, dtype: object</code></pre>
</div>
</div>
<ol start="5" type="1">
<li>Determine JOSEPH DRISCOLL’s total pay, including benefits</li>
</ol>
<div id="25b11a61" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href=""></a>data.query(<span class="st">'EmployeeName == "JOSEPH DRISCOLL"'</span>)[<span class="st">"TotalPayBenefits"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="321">
<pre><code>24    270324.91
Name: TotalPayBenefits, dtype: float64</code></pre>
</div>
</div>
</section>
<section id="section-3" class="slide level2">
<h2></h2>
<ol start="6" type="1">
<li>Identify the highest paid employee based on total pay and benefits.</li>
</ol>
<div id="15a148fb" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href=""></a>data[data[<span class="st">'TotalPayBenefits'</span>] <span class="op">==</span> data[<span class="st">'TotalPayBenefits'</span>].<span class="bu">max</span>()]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="322">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Id</th>
<th data-quarto-table-cell-role="th">EmployeeName</th>
<th data-quarto-table-cell-role="th">JobTitle</th>
<th data-quarto-table-cell-role="th">BasePay</th>
<th data-quarto-table-cell-role="th">OvertimePay</th>
<th data-quarto-table-cell-role="th">OtherPay</th>
<th data-quarto-table-cell-role="th">Benefits</th>
<th data-quarto-table-cell-role="th">TotalPay</th>
<th data-quarto-table-cell-role="th">TotalPayBenefits</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Notes</th>
<th data-quarto-table-cell-role="th">Agency</th>
<th data-quarto-table-cell-role="th">Status</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1</td>
<td>NATHANIEL FORD</td>
<td>GENERAL MANAGER-METROPOLITAN TRANSIT AUTHORITY</td>
<td>167411.18</td>
<td>0.0</td>
<td>400184.25</td>
<td>NaN</td>
<td>567595.43</td>
<td>567595.43</td>
<td>2011</td>
<td>NaN</td>
<td>San Francisco</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ol start="7" type="1">
<li>Determine the lowest paid employee and note any anomalies in their pay</li>
</ol>
<div id="60b80113" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href=""></a>data[data[<span class="st">'TotalPayBenefits'</span>] <span class="op">==</span> data[<span class="st">'TotalPayBenefits'</span>].<span class="bu">min</span>()]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="323">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Id</th>
<th data-quarto-table-cell-role="th">EmployeeName</th>
<th data-quarto-table-cell-role="th">JobTitle</th>
<th data-quarto-table-cell-role="th">BasePay</th>
<th data-quarto-table-cell-role="th">OvertimePay</th>
<th data-quarto-table-cell-role="th">OtherPay</th>
<th data-quarto-table-cell-role="th">Benefits</th>
<th data-quarto-table-cell-role="th">TotalPay</th>
<th data-quarto-table-cell-role="th">TotalPayBenefits</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Notes</th>
<th data-quarto-table-cell-role="th">Agency</th>
<th data-quarto-table-cell-role="th">Status</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">148653</td>
<td>148654</td>
<td>Joe Lopez</td>
<td>Counselor, Log Cabin Ranch</td>
<td>0.0</td>
<td>0.00</td>
<td>-618.13</td>
<td>0.00</td>
<td>-618.13</td>
<td>-618.13</td>
<td>2014</td>
<td>NaN</td>
<td>San Francisco</td>
<td>PT</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="section-4" class="slide level2">
<h2></h2>
<ol start="8" type="1">
<li>Calculate the average Base Pay per year from 2011 to 2014</li>
</ol>
<div id="134699e4" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href=""></a>data.groupby(<span class="st">'Year'</span>)[<span class="st">'BasePay'</span>].mean()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="324">
<pre><code>Year
2011    63595.956517
2012    65436.406857
2013    69630.030216
2014    66564.421924
Name: BasePay, dtype: float64</code></pre>
</div>
</div>
<ol start="9" type="1">
<li>Count the number of unique job titles in the dataset.</li>
</ol>
<div id="0c489587" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href=""></a>data[<span class="st">'JobTitle'</span>].nunique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="325">
<pre><code>2159</code></pre>
</div>
</div>
</section>
<section id="section-5" class="slide level2">
<h2></h2>
<ol start="10" type="1">
<li>Identify the top 5 most common job titles.</li>
</ol>
<div id="7d4f8df2" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href=""></a>data[<span class="st">'JobTitle'</span>].value_counts().head(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="326">
<pre><code>JobTitle
Transit Operator                7036
Special Nurse                   4389
Registered Nurse                3736
Public Svc Aide-Public Works    2518
Police Officer 3                2421
Name: count, dtype: int64</code></pre>
</div>
</div>
<ol start="11" type="1">
<li>Count how many job titles were held by only one person in 2013</li>
</ol>
<div id="d2024244" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href=""></a><span class="bu">sum</span>(data[data[<span class="st">'Year'</span>] <span class="op">==</span> <span class="dv">2013</span>][<span class="st">'JobTitle'</span>].value_counts() <span class="op">==</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="327">
<pre><code>202</code></pre>
</div>
</div>
<ol start="12" type="1">
<li>Count how many employees have ‘Chief’ in their job title.</li>
</ol>
<div id="d028311b" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href=""></a><span class="bu">sum</span>(data[<span class="st">'JobTitle'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="st">'chief'</span> <span class="kw">in</span> x.lower()))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="328">
<pre><code>627</code></pre>
</div>
</div>
</section>
<section id="section-6" class="slide level2">
<h2></h2>
<ol start="13" type="1">
<li>Analyze the correlation between the length of job titles and total pay benefits.</li>
</ol>
<div id="1443735e" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href=""></a>data[<span class="st">'title_len'</span>] <span class="op">=</span> data[<span class="st">'JobTitle'</span>].<span class="bu">apply</span>(<span class="bu">len</span>)</span>
<span id="cb22-2"><a href=""></a>data[[<span class="st">'title_len'</span>, <span class="st">'TotalPayBenefits'</span>]].corr()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="329">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">title_len</th>
<th data-quarto-table-cell-role="th">TotalPayBenefits</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">title_len</td>
<td>1.000000</td>
<td>-0.036878</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">TotalPayBenefits</td>
<td>-0.036878</td>
<td>1.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section></section>
<section>
<section id="problem-3-explanatory-data-analysis-and-seaborn-visualization-olympic-games" class="title-slide slide level1 center">
<h1>Problem 3: Explanatory Data Analysis and Seaborn Visualization (Olympic Games)</h1>

</section>
<section id="section-7" class="slide level2">
<h2></h2>
<ol type="1">
<li>Data import</li>
</ol>
<div id="278fc0d5" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href=""></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb23-2"><a href=""></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb23-3"><a href=""></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb23-4"><a href=""></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="7b57774b" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href=""></a>summer_df <span class="op">=</span> pd.read_csv(<span class="st">'datasets/3-summer.csv'</span>)</span>
<span id="cb24-2"><a href=""></a>summer_df[<span class="st">"Season"</span>] <span class="op">=</span> <span class="st">"Summer"</span></span>
<span id="cb24-3"><a href=""></a>summer_df.head(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="331">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">City</th>
<th data-quarto-table-cell-role="th">Sport</th>
<th data-quarto-table-cell-role="th">Discipline</th>
<th data-quarto-table-cell-role="th">Athlete</th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Gender</th>
<th data-quarto-table-cell-role="th">Event</th>
<th data-quarto-table-cell-role="th">Medal</th>
<th data-quarto-table-cell-role="th">Season</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1896</td>
<td>Athens</td>
<td>Aquatics</td>
<td>Swimming</td>
<td>HAJOS, Alfred</td>
<td>HUN</td>
<td>Men</td>
<td>100M Freestyle</td>
<td>Gold</td>
<td>Summer</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>1896</td>
<td>Athens</td>
<td>Aquatics</td>
<td>Swimming</td>
<td>HERSCHMANN, Otto</td>
<td>AUT</td>
<td>Men</td>
<td>100M Freestyle</td>
<td>Silver</td>
<td>Summer</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>1896</td>
<td>Athens</td>
<td>Aquatics</td>
<td>Swimming</td>
<td>DRIVAS, Dimitrios</td>
<td>GRE</td>
<td>Men</td>
<td>100M Freestyle For Sailors</td>
<td>Bronze</td>
<td>Summer</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="section-8" class="slide level2">
<h2></h2>
<div id="a509c055" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href=""></a>winter_df <span class="op">=</span> pd.read_csv(<span class="st">'datasets/3-winter.csv'</span>)</span>
<span id="cb25-2"><a href=""></a>winter_df[<span class="st">"Season"</span>] <span class="op">=</span> <span class="st">"Winter"</span></span>
<span id="cb25-3"><a href=""></a>winter_df.head(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="332">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">City</th>
<th data-quarto-table-cell-role="th">Sport</th>
<th data-quarto-table-cell-role="th">Discipline</th>
<th data-quarto-table-cell-role="th">Athlete</th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Gender</th>
<th data-quarto-table-cell-role="th">Event</th>
<th data-quarto-table-cell-role="th">Medal</th>
<th data-quarto-table-cell-role="th">Season</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1924</td>
<td>Chamonix</td>
<td>Biathlon</td>
<td>Biathlon</td>
<td>BERTHET, G.</td>
<td>FRA</td>
<td>Men</td>
<td>Military Patrol</td>
<td>Bronze</td>
<td>Winter</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>1924</td>
<td>Chamonix</td>
<td>Biathlon</td>
<td>Biathlon</td>
<td>MANDRILLON, C.</td>
<td>FRA</td>
<td>Men</td>
<td>Military Patrol</td>
<td>Bronze</td>
<td>Winter</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>1924</td>
<td>Chamonix</td>
<td>Biathlon</td>
<td>Biathlon</td>
<td>MANDRILLON, Maurice</td>
<td>FRA</td>
<td>Men</td>
<td>Military Patrol</td>
<td>Bronze</td>
<td>Winter</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="section-9" class="slide level2">
<h2></h2>
<ol start="2" type="1">
<li>Merging and Concatenating summer &amp; winter.</li>
</ol>
<div id="9d646347" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href=""></a>olympics_df <span class="op">=</span> pd.concat([summer_df, winter_df], ignore_index<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb26-2"><a href=""></a>olympics_df.sample(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="333">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">City</th>
<th data-quarto-table-cell-role="th">Sport</th>
<th data-quarto-table-cell-role="th">Discipline</th>
<th data-quarto-table-cell-role="th">Athlete</th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Gender</th>
<th data-quarto-table-cell-role="th">Event</th>
<th data-quarto-table-cell-role="th">Medal</th>
<th data-quarto-table-cell-role="th">Season</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">11362</td>
<td>1964</td>
<td>Tokyo</td>
<td>Hockey</td>
<td>Hockey</td>
<td>SINGH, Charanjit</td>
<td>IND</td>
<td>Men</td>
<td>Hockey</td>
<td>Gold</td>
<td>Summer</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">35253</td>
<td>2002</td>
<td>Salt Lake City</td>
<td>Skiing</td>
<td>Snowboard</td>
<td>RIKARDSSON, Richard</td>
<td>SWE</td>
<td>Men</td>
<td>Giant Parallel Slalom</td>
<td>Silver</td>
<td>Winter</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">31207</td>
<td>1924</td>
<td>Chamonix</td>
<td>Curling</td>
<td>Curling</td>
<td>PETERSEN, C.-W.</td>
<td>SWE</td>
<td>Men</td>
<td>Curling</td>
<td>Silver</td>
<td>Winter</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20360</td>
<td>1992</td>
<td>Barcelona</td>
<td>Cycling</td>
<td>Cycling Track</td>
<td>WALZER, Andreas</td>
<td>GER</td>
<td>Men</td>
<td>Team Pursuit (4000M)</td>
<td>Gold</td>
<td>Summer</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">24946</td>
<td>2000</td>
<td>Sydney</td>
<td>Table Tennis</td>
<td>Table Tennis</td>
<td>KONG, Linghui</td>
<td>CHN</td>
<td>Men</td>
<td>Singles</td>
<td>Gold</td>
<td>Summer</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="section-10" class="slide level2">
<h2></h2>
<ol start="3" type="1">
<li>Data Cleaning</li>
</ol>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Checking datatype</a></li><li><a href="#tabset-1-2">Counting missing value</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<div id="140f398f" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href=""></a><span class="co"># checking for missing values</span></span>
<span id="cb27-2"><a href=""></a>olympics_df.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 36935 entries, 0 to 36934
Data columns (total 10 columns):
 #   Column      Non-Null Count  Dtype 
---  ------      --------------  ----- 
 0   Year        36935 non-null  int64 
 1   City        36935 non-null  object
 2   Sport       36935 non-null  object
 3   Discipline  36935 non-null  object
 4   Athlete     36935 non-null  object
 5   Country     36931 non-null  object
 6   Gender      36935 non-null  object
 7   Event       36935 non-null  object
 8   Medal       36935 non-null  object
 9   Season      36935 non-null  object
dtypes: int64(1), object(9)
memory usage: 2.8+ MB</code></pre>
</div>
</div>
</div>
<div id="tabset-1-2">
<div id="2ffcdab9" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href=""></a><span class="co"># checking for missing values</span></span>
<span id="cb29-2"><a href=""></a>olympics_df.isnull().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="335">
<pre><code>Year          0
City          0
Sport         0
Discipline    0
Athlete       0
Country       4
Gender        0
Event         0
Medal         0
Season        0
dtype: int64</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="section-11" class="slide level2">
<h2></h2>
<div id="3d32d9c9" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href=""></a><span class="co"># list the row with missing country values</span></span>
<span id="cb31-2"><a href=""></a>olympics_df[olympics_df.isnull().<span class="bu">any</span>(axis<span class="op">=</span><span class="dv">1</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="336">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">City</th>
<th data-quarto-table-cell-role="th">Sport</th>
<th data-quarto-table-cell-role="th">Discipline</th>
<th data-quarto-table-cell-role="th">Athlete</th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Gender</th>
<th data-quarto-table-cell-role="th">Event</th>
<th data-quarto-table-cell-role="th">Medal</th>
<th data-quarto-table-cell-role="th">Season</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">29603</td>
<td>2012</td>
<td>London</td>
<td>Athletics</td>
<td>Athletics</td>
<td>Pending</td>
<td>NaN</td>
<td>Women</td>
<td>1500M</td>
<td>Gold</td>
<td>Summer</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">31072</td>
<td>2012</td>
<td>London</td>
<td>Weightlifting</td>
<td>Weightlifting</td>
<td>Pending</td>
<td>NaN</td>
<td>Women</td>
<td>63KG</td>
<td>Gold</td>
<td>Summer</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">31091</td>
<td>2012</td>
<td>London</td>
<td>Weightlifting</td>
<td>Weightlifting</td>
<td>Pending</td>
<td>NaN</td>
<td>Men</td>
<td>94KG</td>
<td>Silver</td>
<td>Summer</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">31110</td>
<td>2012</td>
<td>London</td>
<td>Wrestling</td>
<td>Wrestling Freestyle</td>
<td>KUDUKHOV, Besik</td>
<td>NaN</td>
<td>Men</td>
<td>Wf 60 KG</td>
<td>Silver</td>
<td>Summer</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="69557813" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href=""></a>olympics_df.query(<span class="st">'Athlete == "KUDUKHOV, Besik"'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="337">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">City</th>
<th data-quarto-table-cell-role="th">Sport</th>
<th data-quarto-table-cell-role="th">Discipline</th>
<th data-quarto-table-cell-role="th">Athlete</th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Gender</th>
<th data-quarto-table-cell-role="th">Event</th>
<th data-quarto-table-cell-role="th">Medal</th>
<th data-quarto-table-cell-role="th">Season</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">29149</td>
<td>2008</td>
<td>Beijing</td>
<td>Wrestling</td>
<td>Wrestling Free.</td>
<td>KUDUKHOV, Besik</td>
<td>RUS</td>
<td>Men</td>
<td>- 55KG</td>
<td>Bronze</td>
<td>Summer</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">31110</td>
<td>2012</td>
<td>London</td>
<td>Wrestling</td>
<td>Wrestling Freestyle</td>
<td>KUDUKHOV, Besik</td>
<td>NaN</td>
<td>Men</td>
<td>Wf 60 KG</td>
<td>Silver</td>
<td>Summer</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="section-12" class="slide level2">
<h2></h2>
<div id="e8c6bae4" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href=""></a><span class="co"># fill "RUS" for athlete "KUDUKHOV, Besik" with id 31110</span></span>
<span id="cb33-2"><a href=""></a>olympics_df.loc[olympics_df[<span class="st">'Athlete'</span>] <span class="op">==</span> <span class="st">"KUDUKHOV, Besik"</span>, <span class="st">'Country'</span>] <span class="op">=</span> <span class="st">"RUS"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="5ceb77f8" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href=""></a>olympics_df.sample(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="339">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">City</th>
<th data-quarto-table-cell-role="th">Sport</th>
<th data-quarto-table-cell-role="th">Discipline</th>
<th data-quarto-table-cell-role="th">Athlete</th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Gender</th>
<th data-quarto-table-cell-role="th">Event</th>
<th data-quarto-table-cell-role="th">Medal</th>
<th data-quarto-table-cell-role="th">Season</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">20360</td>
<td>1992</td>
<td>Barcelona</td>
<td>Cycling</td>
<td>Cycling Track</td>
<td>WALZER, Andreas</td>
<td>GER</td>
<td>Men</td>
<td>Team Pursuit (4000M)</td>
<td>Gold</td>
<td>Summer</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">32239</td>
<td>1964</td>
<td>Innsbruck</td>
<td>Ice Hockey</td>
<td>Ice Hockey</td>
<td>SVENSSON, Kjell</td>
<td>SWE</td>
<td>Men</td>
<td>Ice Hockey</td>
<td>Silver</td>
<td>Winter</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8412</td>
<td>1952</td>
<td>Helsinki</td>
<td>Equestrian</td>
<td>Eventing</td>
<td>WOFFORD, John Edwin Brown</td>
<td>USA</td>
<td>Men</td>
<td>Team</td>
<td>Bronze</td>
<td>Summer</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="section-13" class="slide level2">
<h2></h2>
<ol start="4" type="1">
<li>What Are The Most Successful Countries of All Times?</li>
</ol>
<div id="94d93246" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href=""></a>medals <span class="op">=</span> olympics_df.groupby([<span class="st">'Country'</span>, <span class="st">'Medal'</span>]).size().unstack()</span>
<span id="cb35-2"><a href=""></a>medals <span class="op">=</span> medals.sort_values(by<span class="op">=</span>[<span class="st">'Gold'</span>, <span class="st">'Silver'</span>, <span class="st">'Bronze'</span>], ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb35-3"><a href=""></a>medals <span class="op">=</span> medals.fillna(<span class="dv">0</span>)</span>
<span id="cb35-4"><a href=""></a>medals <span class="op">=</span> medals.astype(<span class="bu">int</span>)</span>
<span id="cb35-5"><a href=""></a>medals[<span class="st">'Total'</span>] <span class="op">=</span> medals.<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb35-6"><a href=""></a>medals <span class="op">=</span> medals.sort_values(by<span class="op">=</span><span class="st">'Total'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb35-7"><a href=""></a>medals.head(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="340">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th">Medal</th>
<th data-quarto-table-cell-role="th">Bronze</th>
<th data-quarto-table-cell-role="th">Gold</th>
<th data-quarto-table-cell-role="th">Silver</th>
<th data-quarto-table-cell-role="th">Total</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">USA</td>
<td>1265</td>
<td>2402</td>
<td>1571</td>
<td>5238</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">URS</td>
<td>677</td>
<td>1088</td>
<td>724</td>
<td>2489</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">GBR</td>
<td>587</td>
<td>580</td>
<td>632</td>
<td>1799</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">GER</td>
<td>572</td>
<td>589</td>
<td>504</td>
<td>1665</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">FRA</td>
<td>578</td>
<td>444</td>
<td>526</td>
<td>1548</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="section-14" class="slide level2">
<h2></h2>
<ol start="5" type="1">
<li>DoGDP, Population and Politics Matter?</li>
</ol>
<div id="1da18a7b" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href=""></a>country_df <span class="op">=</span> pd.read_csv(<span class="st">'datasets/3-dictionary.csv'</span>)</span>
<span id="cb36-2"><a href=""></a>country_df.rename(columns<span class="op">=</span>{<span class="st">'Country'</span>: <span class="st">'CountryName'</span>}, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb36-3"><a href=""></a>country_df.rename(columns<span class="op">=</span>{<span class="st">'Code'</span>: <span class="st">'Country'</span>}, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb36-4"><a href=""></a>country_df.reset_index(drop<span class="op">=</span><span class="va">True</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb36-5"><a href=""></a>country_df.head(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="341">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">CountryName</th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Population</th>
<th data-quarto-table-cell-role="th">GDP per Capita</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Afghanistan</td>
<td>AFG</td>
<td>32526562.0</td>
<td>594.323081</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Albania</td>
<td>ALB</td>
<td>2889167.0</td>
<td>3945.217582</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Algeria</td>
<td>ALG</td>
<td>39666519.0</td>
<td>4206.031232</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>American Samoa*</td>
<td>ASA</td>
<td>55538.0</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Andorra</td>
<td>AND</td>
<td>70473.0</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="section-15" class="slide level2">
<h2></h2>
<div id="8f2d32cb" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href=""></a><span class="co"># Drop the index in medals if it's a duplicate</span></span>
<span id="cb37-2"><a href=""></a>medals <span class="op">=</span> medals.reset_index(drop<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="2a42b9fb" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href=""></a><span class="co"># Merge the two DataFrames on the 'Country' column</span></span>
<span id="cb38-2"><a href=""></a>merged_df <span class="op">=</span> pd.merge(country_df, medals, on<span class="op">=</span><span class="st">'Country'</span>)</span>
<span id="cb38-3"><a href=""></a>merged_df <span class="op">=</span> merged_df.dropna()</span>
<span id="cb38-4"><a href=""></a>merged_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="343">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">CountryName</th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Population</th>
<th data-quarto-table-cell-role="th">GDP per Capita</th>
<th data-quarto-table-cell-role="th">Bronze</th>
<th data-quarto-table-cell-role="th">Gold</th>
<th data-quarto-table-cell-role="th">Silver</th>
<th data-quarto-table-cell-role="th">Total</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Afghanistan</td>
<td>AFG</td>
<td>32526562.0</td>
<td>594.323081</td>
<td>2</td>
<td>0</td>
<td>0</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Algeria</td>
<td>ALG</td>
<td>39666519.0</td>
<td>4206.031232</td>
<td>8</td>
<td>5</td>
<td>2</td>
<td>15</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Argentina</td>
<td>ARG</td>
<td>43416755.0</td>
<td>13431.878340</td>
<td>91</td>
<td>69</td>
<td>99</td>
<td>259</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Armenia</td>
<td>ARM</td>
<td>3017712.0</td>
<td>3489.127690</td>
<td>8</td>
<td>1</td>
<td>2</td>
<td>11</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Australia</td>
<td>AUS</td>
<td>23781169.0</td>
<td>56310.962993</td>
<td>479</td>
<td>317</td>
<td>408</td>
<td>1204</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="section-16" class="slide level2">
<h2></h2>
<div id="1d7325d0" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href=""></a><span class="co"># Calculate the correlation between the number of medals and the population, GDP per Capita</span></span>
<span id="cb39-2"><a href=""></a>correlation <span class="op">=</span> merged_df[[<span class="st">'Total'</span>, <span class="st">'Population'</span>, <span class="st">'GDP per Capita'</span>]].corr()</span>
<span id="cb39-3"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">4</span>))</span>
<span id="cb39-4"><a href=""></a>sns.heatmap(correlation, annot<span class="op">=</span><span class="va">True</span>, cmap<span class="op">=</span><span class="st">'coolwarm'</span>, linewidths<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb39-5"><a href=""></a>plt.title(<span class="st">'Correlation Matrix Heatmap'</span>)</span>
<span id="cb39-6"><a href=""></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="template_files/figure-revealjs/cell-30-output-1.png" width="593" height="357"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="section-17" class="slide level2">
<h2></h2>
<ol start="6" type="1">
<li>Statistical Analysis and Hypothesis Testing with scipy.</li>
</ol>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">GDP per Capita</a></li><li><a href="#tabset-2-2">Population</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<div id="78b8cae6" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href=""></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb40-2"><a href=""></a><span class="im">import</span> scipy.stats <span class="im">as</span> stats</span>
<span id="cb40-3"><a href=""></a>gold_winners <span class="op">=</span> merged_df[merged_df[<span class="st">'Gold'</span>] <span class="op">&gt;</span> <span class="dv">0</span>][<span class="st">'GDP per Capita'</span>]</span>
<span id="cb40-4"><a href=""></a>no_gold_winners <span class="op">=</span> merged_df[merged_df[<span class="st">'Gold'</span>] <span class="op">==</span> <span class="dv">0</span>][<span class="st">'GDP per Capita'</span>]</span>
<span id="cb40-5"><a href=""></a>t_stat, p_value <span class="op">=</span> stats.ttest_ind(gold_winners, no_gold_winners, equal_var<span class="op">=</span><span class="va">False</span>)  <span class="co"># Welch's t-test</span></span>
<span id="cb40-6"><a href=""></a>alpha <span class="op">=</span> <span class="fl">0.05</span></span>
<span id="cb40-7"><a href=""></a><span class="bu">print</span>(<span class="st">"T-statistic:"</span>, t_stat, <span class="st">"P-value:"</span>, p_value)</span>
<span id="cb40-8"><a href=""></a><span class="cf">if</span> p_value <span class="op">&lt;</span> alpha:</span>
<span id="cb40-9"><a href=""></a>    <span class="bu">print</span>(<span class="st">"Reject the null hypothesis: There is a significant difference between the GDP per Capita."</span>)</span>
<span id="cb40-10"><a href=""></a><span class="cf">else</span>:</span>
<span id="cb40-11"><a href=""></a>    <span class="bu">print</span>(<span class="st">"Fail to reject the null hypothesis: No significant difference between the GDP per Capita."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>T-statistic: 2.732935094107282 P-value: 0.007529857302885977
Reject the null hypothesis: There is a significant difference between the GDP per Capita.</code></pre>
</div>
</div>
</div>
<div id="tabset-2-2">
<div id="3406f27e" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href=""></a>gold_winners <span class="op">=</span> merged_df[merged_df[<span class="st">'Gold'</span>] <span class="op">&gt;</span> <span class="dv">0</span>][<span class="st">'Population'</span>]</span>
<span id="cb42-2"><a href=""></a>no_gold_winners <span class="op">=</span> merged_df[merged_df[<span class="st">'Gold'</span>] <span class="op">==</span> <span class="dv">0</span>][<span class="st">'Population'</span>]</span>
<span id="cb42-3"><a href=""></a>t_stat, p_value <span class="op">=</span> stats.ttest_ind(gold_winners, no_gold_winners, equal_var<span class="op">=</span><span class="va">False</span>)  <span class="co"># Welch's t-test</span></span>
<span id="cb42-4"><a href=""></a>alpha <span class="op">=</span> <span class="fl">0.05</span></span>
<span id="cb42-5"><a href=""></a><span class="bu">print</span>(<span class="st">"T-statistic:"</span>, t_stat, <span class="st">"P-value:"</span>, p_value)</span>
<span id="cb42-6"><a href=""></a><span class="cf">if</span> p_value <span class="op">&lt;</span> alpha:</span>
<span id="cb42-7"><a href=""></a>    <span class="bu">print</span>(<span class="st">"Reject the null hypothesis: There is a significant difference between the Population."</span>)</span>
<span id="cb42-8"><a href=""></a><span class="cf">else</span>:</span>
<span id="cb42-9"><a href=""></a>    <span class="bu">print</span>(<span class="st">"Fail to reject the null hypothesis: No significant difference between the Population."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>T-statistic: 2.3246897005104055 P-value: 0.02253487053575969
Reject the null hypothesis: There is a significant difference between the Population.</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="section-18" class="slide level2">
<h2></h2>
<ol start="7" type="1">
<li>Aggregating and Ranking</li>
</ol>
<div id="2c8d65cc" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href=""></a><span class="co">#  Aggregating and Ranking.</span></span>
<span id="cb44-2"><a href=""></a><span class="co"># Calculate the total number of medals for each country</span></span>
<span id="cb44-3"><a href=""></a>total_medals <span class="op">=</span> merged_df[[<span class="st">'CountryName'</span>, <span class="st">'Total'</span>]].sort_values(by<span class="op">=</span><span class="st">'Total'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb44-4"><a href=""></a>total_medals <span class="op">=</span> total_medals.reset_index(drop<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb44-5"><a href=""></a></span>
<span id="cb44-6"><a href=""></a><span class="co"># Rank the countries by the total number of medals</span></span>
<span id="cb44-7"><a href=""></a>total_medals[<span class="st">'Rank'</span>] <span class="op">=</span> total_medals[<span class="st">'Total'</span>].rank(ascending<span class="op">=</span><span class="va">False</span>, method<span class="op">=</span><span class="st">'min'</span>).astype(<span class="bu">int</span>)</span>
<span id="cb44-8"><a href=""></a>total_medals.head(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="347">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">CountryName</th>
<th data-quarto-table-cell-role="th">Total</th>
<th data-quarto-table-cell-role="th">Rank</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>United States</td>
<td>5238</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>United Kingdom</td>
<td>1799</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Germany</td>
<td>1665</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>France</td>
<td>1548</td>
<td>4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Italy</td>
<td>1488</td>
<td>5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Sweden</td>
<td>1477</td>
<td>6</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Canada</td>
<td>1274</td>
<td>7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>Australia</td>
<td>1204</td>
<td>8</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>Hungary</td>
<td>1091</td>
<td>9</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>Russia</td>
<td>1032</td>
<td>10</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="section-19" class="slide level2">
<h2></h2>
<ol start="8" type="1">
<li>SummerGamesVs. Winter Games(Does Geographical Location Matter?)</li>
</ol>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-3-1">Summer</a></li><li><a href="#tabset-3-2">Winter</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1">
<div id="29b93c86" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href=""></a><span class="co"># count the number of medals for each country in the summer</span></span>
<span id="cb45-2"><a href=""></a>summer_medals <span class="op">=</span> summer_df[<span class="st">'Country'</span>].value_counts()</span>
<span id="cb45-3"><a href=""></a>summer_medals <span class="op">=</span> summer_medals.reset_index()</span>
<span id="cb45-4"><a href=""></a>summer_medals.columns <span class="op">=</span> [<span class="st">'Country'</span>, <span class="st">'Summer'</span>]</span>
<span id="cb45-5"><a href=""></a>summer_medals.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="348">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Summer</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>USA</td>
<td>4585</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>URS</td>
<td>2049</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>GBR</td>
<td>1720</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>FRA</td>
<td>1396</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>GER</td>
<td>1305</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="tabset-3-2">
<div id="8e167ea5" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href=""></a><span class="co"># count the number of medals for each country in the Winter</span></span>
<span id="cb46-2"><a href=""></a>winter_medals <span class="op">=</span> winter_df[<span class="st">'Country'</span>].value_counts()</span>
<span id="cb46-3"><a href=""></a>winter_medals <span class="op">=</span> winter_medals.reset_index()</span>
<span id="cb46-4"><a href=""></a>winter_medals.columns <span class="op">=</span> [<span class="st">'Country'</span>, <span class="st">'Winter'</span>]</span>
<span id="cb46-5"><a href=""></a>winter_medals.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="349">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Winter</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>USA</td>
<td>653</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>CAN</td>
<td>625</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>NOR</td>
<td>457</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>URS</td>
<td>440</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>FIN</td>
<td>434</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="section-20" class="slide level2">
<h2></h2>
<div id="d8006bd5" class="cell" data-execution_count="35">
<details class="code-fold">
<summary>expand for full code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href=""></a>season_country_counts <span class="op">=</span> olympics_df.groupby([<span class="st">'Season'</span>, <span class="st">'Country'</span>]).size().reset_index(name<span class="op">=</span><span class="st">'Count'</span>)</span>
<span id="cb47-2"><a href=""></a></span>
<span id="cb47-3"><a href=""></a><span class="co"># Pivot data for comparison</span></span>
<span id="cb47-4"><a href=""></a>season_pivot <span class="op">=</span> season_country_counts.pivot(index<span class="op">=</span><span class="st">'Country'</span>, columns<span class="op">=</span><span class="st">'Season'</span>, values<span class="op">=</span><span class="st">'Count'</span>).fillna(<span class="dv">0</span>)</span>
<span id="cb47-5"><a href=""></a></span>
<span id="cb47-6"><a href=""></a><span class="co"># Add a total column to sort by overall medal count</span></span>
<span id="cb47-7"><a href=""></a>season_pivot[<span class="st">'Total'</span>] <span class="op">=</span> season_pivot.<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb47-8"><a href=""></a></span>
<span id="cb47-9"><a href=""></a><span class="co"># Sort by total medal count and select the top 10</span></span>
<span id="cb47-10"><a href=""></a>top_10_countries <span class="op">=</span> season_pivot.sort_values(<span class="st">'Total'</span>, ascending<span class="op">=</span><span class="va">False</span>).head(<span class="dv">10</span>)</span>
<span id="cb47-11"><a href=""></a></span>
<span id="cb47-12"><a href=""></a><span class="co"># Drop the 'Total' column for visualization purposes</span></span>
<span id="cb47-13"><a href=""></a>top_10_countries <span class="op">=</span> top_10_countries.drop(columns<span class="op">=</span><span class="st">'Total'</span>)</span>
<span id="cb47-14"><a href=""></a></span>
<span id="cb47-15"><a href=""></a><span class="co"># Prepare data for side-by-side bar plot</span></span>
<span id="cb47-16"><a href=""></a>countries <span class="op">=</span> top_10_countries.index</span>
<span id="cb47-17"><a href=""></a>x <span class="op">=</span> np.arange(<span class="bu">len</span>(countries))  <span class="co"># the label locations</span></span>
<span id="cb47-18"><a href=""></a>width <span class="op">=</span> <span class="fl">0.35</span>  <span class="co"># the width of the bars</span></span>
<span id="cb47-19"><a href=""></a></span>
<span id="cb47-20"><a href=""></a><span class="co"># Plot bars for Summer and Winter</span></span>
<span id="cb47-21"><a href=""></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb47-22"><a href=""></a>ax.bar(x <span class="op">-</span> width<span class="op">/</span><span class="dv">2</span>, top_10_countries[<span class="st">'Summer'</span>], width, label<span class="op">=</span><span class="st">'Summer'</span>, color<span class="op">=</span><span class="st">'lightcoral'</span>)</span>
<span id="cb47-23"><a href=""></a>ax.bar(x <span class="op">+</span> width<span class="op">/</span><span class="dv">2</span>, top_10_countries[<span class="st">'Winter'</span>], width, label<span class="op">=</span><span class="st">'Winter'</span>, color<span class="op">=</span><span class="st">'skyblue'</span>)</span>
<span id="cb47-24"><a href=""></a></span>
<span id="cb47-25"><a href=""></a><span class="co"># Add labels, title, and legend</span></span>
<span id="cb47-26"><a href=""></a>ax.set_xlabel(<span class="st">'Country'</span>)</span>
<span id="cb47-27"><a href=""></a>ax.set_ylabel(<span class="st">'Medal Count'</span>)</span>
<span id="cb47-28"><a href=""></a>ax.set_title(<span class="st">'Top 10 Countries by Medal Count (Summer vs Winter Olympics)'</span>)</span>
<span id="cb47-29"><a href=""></a>ax.set_xticks(x)</span>
<span id="cb47-30"><a href=""></a>ax.set_xticklabels(countries, rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb47-31"><a href=""></a>ax.legend()</span>
<span id="cb47-32"><a href=""></a></span>
<span id="cb47-33"><a href=""></a>plt.tight_layout()</span>
<span id="cb47-34"><a href=""></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="template_files/figure-revealjs/cell-36-output-1.png" width="1142" height="566"></p>
</figure>
</div>
</div>
</div>
</section></section>
<section>
<section id="problem-4-data-preprocessing-feature-engineering-for-machine-learning" class="title-slide slide level1 center">
<h1>Problem 4: Data Preprocessing &amp; Feature Engineering for Machine Learning</h1>

</section>
<section id="section-21" class="slide level2">
<h2></h2>
<ol type="1">
<li>Data import</li>
</ol>
<div id="ac86926e" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href=""></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb48-2"><a href=""></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb48-3"><a href=""></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb48-4"><a href=""></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="96d989e1" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href=""></a>data <span class="op">=</span> pd.read_csv(<span class="st">'datasets/4-housing.csv'</span>)</span>
<span id="cb49-2"><a href=""></a>data.head(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="352">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">housing_median_age</th>
<th data-quarto-table-cell-role="th">total_rooms</th>
<th data-quarto-table-cell-role="th">total_bedrooms</th>
<th data-quarto-table-cell-role="th">population</th>
<th data-quarto-table-cell-role="th">households</th>
<th data-quarto-table-cell-role="th">median_income</th>
<th data-quarto-table-cell-role="th">median_house_value</th>
<th data-quarto-table-cell-role="th">ocean_proximity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>-122.23</td>
<td>37.88</td>
<td>41.0</td>
<td>880.0</td>
<td>129.0</td>
<td>322.0</td>
<td>126.0</td>
<td>8.3252</td>
<td>452600.0</td>
<td>NEAR BAY</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>-122.22</td>
<td>37.86</td>
<td>21.0</td>
<td>7099.0</td>
<td>1106.0</td>
<td>2401.0</td>
<td>1138.0</td>
<td>8.3014</td>
<td>358500.0</td>
<td>NEAR BAY</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>-122.24</td>
<td>37.85</td>
<td>52.0</td>
<td>1467.0</td>
<td>190.0</td>
<td>496.0</td>
<td>177.0</td>
<td>7.2574</td>
<td>352100.0</td>
<td>NEAR BAY</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="section-22" class="slide level2">
<h2></h2>
<ol start="2" type="1">
<li>Data Cleaning and Creating Additional Features.</li>
</ol>
<div class="panel-tabset">
<ul id="tabset-4" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-4-1">Dropping null value</a></li><li><a href="#tabset-4-2">Create new features</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1">
<div id="f4e694fa" class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href=""></a>data.isnull().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="353">
<pre><code>longitude               0
latitude                0
housing_median_age      0
total_rooms             0
total_bedrooms        207
population              0
households              0
median_income           0
median_house_value      0
ocean_proximity         0
dtype: int64</code></pre>
</div>
</div>
<div id="fa160e56" class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href=""></a>data.dropna(inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-4-2">
<div id="bb7b3373" class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href=""></a>data[<span class="st">'avg_population_per_household'</span>] <span class="op">=</span> data[<span class="st">'population'</span>] <span class="op">/</span> data[<span class="st">'households'</span>]</span>
<span id="cb53-2"><a href=""></a>data[<span class="st">'avg_income_per_household'</span>] <span class="op">=</span> data[<span class="st">'median_income'</span>] <span class="op">/</span> data[<span class="st">'households'</span>]</span>
<span id="cb53-3"><a href=""></a>data[[<span class="st">'avg_population_per_household'</span>, <span class="st">'avg_income_per_household'</span>]].head(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="355">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">avg_population_per_household</th>
<th data-quarto-table-cell-role="th">avg_income_per_household</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2.555556</td>
<td>0.066073</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2.109842</td>
<td>0.007295</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2.802260</td>
<td>0.041002</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2.547945</td>
<td>0.025768</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2.181467</td>
<td>0.014850</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="section-23" class="slide level2">
<h2></h2>
<ol start="3" type="1">
<li>Which Factors Influence House Prices</li>
</ol>
<div id="a084c351" class="cell" data-execution_count="41">
<details class="code-fold">
<summary>expand for full code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href=""></a>columns_to_describe <span class="op">=</span> [</span>
<span id="cb54-2"><a href=""></a>    <span class="st">'housing_median_age'</span>, <span class="st">'total_rooms'</span>, <span class="st">'total_bedrooms'</span>,</span>
<span id="cb54-3"><a href=""></a>    <span class="st">'population'</span>, <span class="st">'households'</span>, <span class="st">'median_income'</span>, <span class="st">'median_house_value'</span></span>
<span id="cb54-4"><a href=""></a>]</span>
<span id="cb54-5"><a href=""></a>correlation_matrix <span class="op">=</span> data[columns_to_describe].corr()</span>
<span id="cb54-6"><a href=""></a>correlation_matrix[<span class="st">'median_house_value'</span>].sort_values(ascending<span class="op">=</span><span class="va">False</span>).plot(kind<span class="op">=</span><span class="st">'bar'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="template_files/figure-revealjs/cell-42-output-1.png" width="794" height="538"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="section-24" class="slide level2">
<h2></h2>
<ol start="4" type="1">
<li>Advanced Exploratory Data Analysis With Seaborn.</li>
</ol>
<div id="5d0798fb" class="cell" data-execution_count="42">
<details class="code-fold">
<summary>expand for full code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href=""></a><span class="co"># Explore the column ocean_proximity</span></span>
<span id="cb55-2"><a href=""></a>ocean_values <span class="op">=</span> data[<span class="st">"ocean_proximity"</span>].value_counts()</span>
<span id="cb55-3"><a href=""></a>ax <span class="op">=</span> sns.barplot(x<span class="op">=</span>ocean_values.index, y<span class="op">=</span>ocean_values.values, palette<span class="op">=</span><span class="st">'viridis'</span>, alpha<span class="op">=</span><span class="fl">0.8</span>, hue<span class="op">=</span>ocean_values.index)</span>
<span id="cb55-4"><a href=""></a>total <span class="op">=</span> ocean_values.<span class="bu">sum</span>()</span>
<span id="cb55-5"><a href=""></a><span class="cf">for</span> p <span class="kw">in</span> ax.patches:</span>
<span id="cb55-6"><a href=""></a>    percentage <span class="op">=</span> <span class="ss">f'</span><span class="sc">{</span><span class="dv">100</span> <span class="op">*</span> p<span class="sc">.</span>get_height() <span class="op">/</span> total<span class="sc">:.2f}</span><span class="ss">%'</span></span>
<span id="cb55-7"><a href=""></a>    x <span class="op">=</span> p.get_x() <span class="op">+</span> p.get_width() <span class="op">/</span> <span class="dv">2</span> <span class="op">-</span> <span class="fl">0.05</span></span>
<span id="cb55-8"><a href=""></a>    y <span class="op">=</span> p.get_height() <span class="op">+</span> <span class="dv">50</span></span>
<span id="cb55-9"><a href=""></a>    ax.annotate(percentage, (x, y), ha<span class="op">=</span><span class="st">'center'</span>)</span>
<span id="cb55-10"><a href=""></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="template_files/figure-revealjs/cell-43-output-1.png" width="806" height="429"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="section-25" class="slide level2">
<h2></h2>
<div id="3eef8a11" class="cell" data-execution_count="43">
<details class="code-fold">
<summary>expand for full code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href=""></a>fig, axes <span class="op">=</span> plt.subplots(nrows<span class="op">=</span><span class="dv">3</span>, ncols<span class="op">=</span><span class="dv">3</span>, figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb56-2"><a href=""></a>axes <span class="op">=</span> axes.flatten()</span>
<span id="cb56-3"><a href=""></a></span>
<span id="cb56-4"><a href=""></a><span class="cf">for</span> i, col <span class="kw">in</span> <span class="bu">enumerate</span>(columns_to_describe):</span>
<span id="cb56-5"><a href=""></a>    sns.histplot(data[col], bins<span class="op">=</span><span class="dv">25</span>, ax<span class="op">=</span>axes[i])</span>
<span id="cb56-6"><a href=""></a>    axes[i].set_title(col)</span>
<span id="cb56-7"><a href=""></a></span>
<span id="cb56-8"><a href=""></a>plt.tight_layout()</span>
<span id="cb56-9"><a href=""></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="template_files/figure-revealjs/cell-44-output-1.png" width="950" height="566"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="section-26" class="slide level2">
<h2></h2>
<div class="panel-tabset">
<ul id="tabset-5" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-5-1">Scatter plot</a></li><li><a href="#tabset-5-2">Histogram</a></li><li><a href="#tabset-5-3">House price bins</a></li><li><a href="#tabset-5-4">Map</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1">
<div id="072d6c01" class="cell" data-execution_count="44">
<details class="code-fold">
<summary>expand for full code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href=""></a><span class="co"># check scatter plot between median_income and median_house_value</span></span>
<span id="cb57-2"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">4</span>))</span>
<span id="cb57-3"><a href=""></a>plt.scatter(data[<span class="st">"median_income"</span>],data[<span class="st">"median_house_value"</span>], alpha<span class="op">=</span><span class="fl">0.2</span>)</span>
<span id="cb57-4"><a href=""></a>plt.xlabel(<span class="st">'Median income'</span>)</span>
<span id="cb57-5"><a href=""></a>plt.ylabel(<span class="st">'Median house value'</span>)</span>
<span id="cb57-6"><a href=""></a>plt.title(<span class="st">'Linear correlation Median income/Median House value'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="359">
<pre><code>Text(0.5, 1.0, 'Linear correlation Median income/Median House value')</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="template_files/figure-revealjs/cell-45-output-2.png" width="693" height="376"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-5-2">
<div id="24c32ba1" class="cell" data-execution_count="45">
<details class="code-fold">
<summary>expand for full code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href=""></a><span class="co">## Try to make median_income into bins</span></span>
<span id="cb59-2"><a href=""></a>income_bins <span class="op">=</span> pd.cut(data[<span class="st">"median_income"</span>],</span>
<span id="cb59-3"><a href=""></a>                     bins<span class="op">=</span>[<span class="dv">0</span>,<span class="fl">1.5</span>,<span class="dv">3</span>,<span class="fl">4.5</span>,<span class="dv">6</span>,np.inf],</span>
<span id="cb59-4"><a href=""></a>                     labels<span class="op">=</span>[<span class="st">"0 - 1.5"</span>,<span class="st">"1.5 - 3"</span>,<span class="st">"3 - 4.5"</span>,<span class="st">"4.5 - 6"</span>,<span class="st">" &gt; 6 "</span>])</span>
<span id="cb59-5"><a href=""></a>sns.countplot(x <span class="op">=</span> income_bins)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="template_files/figure-revealjs/cell-46-output-1.png" width="825" height="429"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-5-3">
<div id="a17e2e09" class="cell" data-execution_count="46">
<details class="code-fold">
<summary>expand for full code</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href=""></a>house_value_bins <span class="op">=</span> pd.cut(x<span class="op">=</span>data[<span class="st">"median_house_value"</span>],</span>
<span id="cb60-2"><a href=""></a>                          bins<span class="op">=</span>(<span class="op">-</span>np.inf, <span class="dv">100000</span>, <span class="dv">200000</span>, <span class="dv">300000</span>, <span class="dv">400000</span>, <span class="dv">500000</span>, np.inf),</span>
<span id="cb60-3"><a href=""></a>                                labels<span class="op">=</span>(<span class="st">'0-100k'</span>, <span class="st">'100k-200k'</span>, <span class="st">'300k-400k'</span>, <span class="st">'400k-500k'</span>, <span class="st">'500k-600k'</span>, <span class="st">'600k&lt;l'</span>) )</span>
<span id="cb60-4"><a href=""></a><span class="co">## countpLot for the above chunks </span></span>
<span id="cb60-5"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">6</span>)) </span>
<span id="cb60-6"><a href=""></a>sns.countplot(x<span class="op">=</span>house_value_bins) </span>
<span id="cb60-7"><a href=""></a>plt.title(<span class="st">'CountPlot of House Value Bins in Dataset'</span>, fontsize<span class="op">=</span><span class="dv">14</span>, c<span class="op">=</span><span class="st">'k'</span>) </span>
<span id="cb60-8"><a href=""></a>plt.xlabel(<span class="st">'House Value Bins'</span>, fontsize<span class="op">=</span><span class="dv">14</span>, c<span class="op">=</span><span class="st">'k'</span>) </span>
<span id="cb60-9"><a href=""></a>plt.ylabel(<span class="st">'counts'</span>, fontsize<span class="op">=</span><span class="dv">14</span>,c<span class="op">=</span><span class="st">'k'</span>) </span>
<span id="cb60-10"><a href=""></a>plt.show() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="template_files/figure-revealjs/cell-47-output-1.png" width="830" height="531"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-5-4">
<div id="41120a20" class="cell" data-execution_count="47">
<details class="code-fold">
<summary>expand for full code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">3</span>))<span class="op">;</span></span>
<span id="cb61-2"><a href=""></a>data.plot(kind<span class="op">=</span><span class="st">"scatter"</span>, x<span class="op">=</span><span class="st">"longitude"</span>, y<span class="op">=</span><span class="st">"latitude"</span>, alpha<span class="op">=</span><span class="fl">0.4</span>,</span>
<span id="cb61-3"><a href=""></a>        s<span class="op">=</span>data[<span class="st">"population"</span>]<span class="op">/</span><span class="dv">100</span>, label<span class="op">=</span><span class="st">"population"</span>, figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">4</span>),</span>
<span id="cb61-4"><a href=""></a>        c<span class="op">=</span><span class="st">"median_house_value"</span>, cmap<span class="op">=</span>plt.get_cmap(<span class="st">"jet"</span>),colorbar<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb61-5"><a href=""></a>    )<span class="op">;</span></span>
<span id="cb61-6"><a href=""></a>plt.legend()<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 768x288 with 0 Axes&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="template_files/figure-revealjs/cell-48-output-2.png" width="789" height="361"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="section-27" class="slide level2">
<h2></h2>
<ol start="5" type="1">
<li>Feature Engineering.</li>
</ol>
<div class="panel-tabset">
<ul id="tabset-6" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-6-1">Feature creating</a></li><li><a href="#tabset-6-2">Bar plot of <code>incomebin</code></a></li></ul>
<div class="tab-content">
<div id="tabset-6-1">
<div id="f78ee54e" class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href=""></a><span class="co"># data = pd.get_dummies(data, columns=['ocean_proximity', 'age_group'], drop_first=True)</span></span>
<span id="cb63-2"><a href=""></a>data[<span class="st">'income_bin'</span>] <span class="op">=</span> pd.cut(data[<span class="st">'median_income'</span>], bins<span class="op">=</span>[<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">10</span>], labels<span class="op">=</span>[<span class="st">'very low'</span>, <span class="st">'low'</span>, <span class="st">'medium'</span>, <span class="st">'high'</span>, <span class="st">'very high'</span>])</span>
<span id="cb63-3"><a href=""></a>data[[<span class="st">'median_income'</span>, <span class="st">'income_bin'</span>]].sample(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="363">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">median_income</th>
<th data-quarto-table-cell-role="th">income_bin</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">13837</td>
<td>3.8194</td>
<td>low</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">16296</td>
<td>2.4010</td>
<td>low</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8636</td>
<td>7.9614</td>
<td>high</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19373</td>
<td>3.7031</td>
<td>low</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1254</td>
<td>2.5556</td>
<td>low</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="tabset-6-2">
<div id="f5dad4ec" class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">4</span>))</span>
<span id="cb64-2"><a href=""></a>sns.countplot(data[<span class="st">'income_bin'</span>])</span>
<span id="cb64-3"><a href=""></a>plt.title(<span class="st">'Income Bin Distribution'</span>)</span>
<span id="cb64-4"><a href=""></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="template_files/figure-revealjs/cell-50-output-1.png" width="705" height="376"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="section-28" class="slide level2">
<h2></h2>
<ol start="6" type="1">
<li>Splitting The Data Into Train And Test Set.</li>
</ol>
<div id="aab17591" class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href=""></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split</span>
<span id="cb65-2"><a href=""></a></span>
<span id="cb65-3"><a href=""></a>df<span class="op">=</span>data[[<span class="st">'housing_median_age'</span>,</span>
<span id="cb65-4"><a href=""></a>       <span class="st">'total_rooms'</span>, <span class="st">'total_bedrooms'</span>, <span class="st">'population'</span>, <span class="st">'households'</span>,</span>
<span id="cb65-5"><a href=""></a>       <span class="st">'median_income'</span>,<span class="st">'median_house_value'</span>]]</span>
<span id="cb65-6"><a href=""></a>X <span class="op">=</span> df[[<span class="st">'housing_median_age'</span>,</span>
<span id="cb65-7"><a href=""></a>       <span class="st">'total_rooms'</span>, <span class="st">'total_bedrooms'</span>, <span class="st">'population'</span>, <span class="st">'households'</span>,</span>
<span id="cb65-8"><a href=""></a>       <span class="st">'median_income'</span>]]</span>
<span id="cb65-9"><a href=""></a>y<span class="op">=</span> df[<span class="st">'median_house_value'</span> ]</span>
<span id="cb65-10"><a href=""></a></span>
<span id="cb65-11"><a href=""></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(X, y, test_size<span class="op">=</span><span class="fl">0.2</span>, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb65-12"><a href=""></a>X_train.shape, X_test.shape, y_train.shape, y_test.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="365">
<pre><code>((16346, 6), (4087, 6), (16346,), (4087,))</code></pre>
</div>
</div>
</section>
<section id="section-29" class="slide level2">
<h2></h2>
<ol start="7" type="1">
<li>Training the ML Model (RandomForest).</li>
</ol>
<div class="panel-tabset">
<ul id="tabset-7" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-7-1">Features Scaling</a></li><li><a href="#tabset-7-2">VIF</a></li><li><a href="#tabset-7-3">Training</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1">
<div id="1216b955" class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href=""></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> RobustScaler</span>
<span id="cb67-2"><a href=""></a>ro_scaler<span class="op">=</span>RobustScaler()</span>
<span id="cb67-3"><a href=""></a>x_train<span class="op">=</span>ro_scaler.fit_transform(X_train)</span>
<span id="cb67-4"><a href=""></a>x_test<span class="op">=</span>ro_scaler.fit_transform(X_test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-7-2">
<div id="9ed17008" class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href=""></a><span class="im">from</span> statsmodels.stats.outliers_influence <span class="im">import</span> variance_inflation_factor</span>
<span id="cb68-2"><a href=""></a>vif_x<span class="op">=</span>X.copy()</span>
<span id="cb68-3"><a href=""></a><span class="co"># VIF dataframe</span></span>
<span id="cb68-4"><a href=""></a>vif_data <span class="op">=</span> pd.DataFrame()</span>
<span id="cb68-5"><a href=""></a>vif_data[<span class="st">"feature"</span>] <span class="op">=</span> vif_x.columns</span>
<span id="cb68-6"><a href=""></a>  </span>
<span id="cb68-7"><a href=""></a><span class="co"># calculating VIF for each feature</span></span>
<span id="cb68-8"><a href=""></a>vif_data[<span class="st">"VIF"</span>] <span class="op">=</span> [variance_inflation_factor(vif_x.values, i)</span>
<span id="cb68-9"><a href=""></a>                          <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(vif_x.columns))]</span>
<span id="cb68-10"><a href=""></a>  </span>
<span id="cb68-11"><a href=""></a><span class="bu">print</span>(vif_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>              feature        VIF
0  housing_median_age   3.584386
1         total_rooms  27.366089
2      total_bedrooms  86.616753
3          population  15.580855
4          households  90.439831
5       median_income   4.800762</code></pre>
</div>
</div>
</div>
<div id="tabset-7-3">
<div id="0bf31e8b" class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href=""></a><span class="co"># 7. Training the ML Model (RandomForest).</span></span>
<span id="cb70-2"><a href=""></a><span class="im">from</span> sklearn.ensemble <span class="im">import</span> RandomForestRegressor</span>
<span id="cb70-3"><a href=""></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> cross_val_score</span>
<span id="cb70-4"><a href=""></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> mean_squared_error</span>
<span id="cb70-5"><a href=""></a></span>
<span id="cb70-6"><a href=""></a>model <span class="op">=</span> RandomForestRegressor(n_estimators<span class="op">=</span><span class="dv">25</span>, max_depth<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb70-7"><a href=""></a>model.fit(X_train, y_train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="368">
<style>#sk-container-id-6 {
  /* Definition of color scheme common for light and dark mode */
  --sklearn-color-text: black;
  --sklearn-color-line: gray;
  /* Definition of color scheme for unfitted estimators */
  --sklearn-color-unfitted-level-0: #fff5e6;
  --sklearn-color-unfitted-level-1: #f6e4d2;
  --sklearn-color-unfitted-level-2: #ffe0b3;
  --sklearn-color-unfitted-level-3: chocolate;
  /* Definition of color scheme for fitted estimators */
  --sklearn-color-fitted-level-0: #f0f8ff;
  --sklearn-color-fitted-level-1: #d4ebff;
  --sklearn-color-fitted-level-2: #b3dbfd;
  --sklearn-color-fitted-level-3: cornflowerblue;

  /* Specific color for light theme */
  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));
  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-icon: #696969;

  @media (prefers-color-scheme: dark) {
    /* Redefinition of color scheme for dark theme */
    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));
    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-icon: #878787;
  }
}

#sk-container-id-6 {
  color: var(--sklearn-color-text);
}

#sk-container-id-6 pre {
  padding: 0;
}

#sk-container-id-6 input.sk-hidden--visually {
  border: 0;
  clip: rect(1px 1px 1px 1px);
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

#sk-container-id-6 div.sk-dashed-wrapped {
  border: 1px dashed var(--sklearn-color-line);
  margin: 0 0.4em 0.5em 0.4em;
  box-sizing: border-box;
  padding-bottom: 0.4em;
  background-color: var(--sklearn-color-background);
}

#sk-container-id-6 div.sk-container {
  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`
     but bootstrap.min.css set `[hidden] { display: none !important; }`
     so we also need the `!important` here to be able to override the
     default hidden behavior on the sphinx rendered scikit-learn.org.
     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */
  display: inline-block !important;
  position: relative;
}

#sk-container-id-6 div.sk-text-repr-fallback {
  display: none;
}

div.sk-parallel-item,
div.sk-serial,
div.sk-item {
  /* draw centered vertical line to link estimators */
  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));
  background-size: 2px 100%;
  background-repeat: no-repeat;
  background-position: center center;
}

/* Parallel-specific style estimator block */

#sk-container-id-6 div.sk-parallel-item::after {
  content: "";
  width: 100%;
  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);
  flex-grow: 1;
}

#sk-container-id-6 div.sk-parallel {
  display: flex;
  align-items: stretch;
  justify-content: center;
  background-color: var(--sklearn-color-background);
  position: relative;
}

#sk-container-id-6 div.sk-parallel-item {
  display: flex;
  flex-direction: column;
}

#sk-container-id-6 div.sk-parallel-item:first-child::after {
  align-self: flex-end;
  width: 50%;
}

#sk-container-id-6 div.sk-parallel-item:last-child::after {
  align-self: flex-start;
  width: 50%;
}

#sk-container-id-6 div.sk-parallel-item:only-child::after {
  width: 0;
}

/* Serial-specific style estimator block */

#sk-container-id-6 div.sk-serial {
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: var(--sklearn-color-background);
  padding-right: 1em;
  padding-left: 1em;
}


/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is
clickable and can be expanded/collapsed.
- Pipeline and ColumnTransformer use this feature and define the default style
- Estimators will overwrite some part of the style using the `sk-estimator` class
*/

/* Pipeline and ColumnTransformer style (default) */

#sk-container-id-6 div.sk-toggleable {
  /* Default theme specific background. It is overwritten whether we have a
  specific estimator or a Pipeline/ColumnTransformer */
  background-color: var(--sklearn-color-background);
}

/* Toggleable label */
#sk-container-id-6 label.sk-toggleable__label {
  cursor: pointer;
  display: block;
  width: 100%;
  margin-bottom: 0;
  padding: 0.5em;
  box-sizing: border-box;
  text-align: center;
}

#sk-container-id-6 label.sk-toggleable__label-arrow:before {
  /* Arrow on the left of the label */
  content: "▸";
  float: left;
  margin-right: 0.25em;
  color: var(--sklearn-color-icon);
}

#sk-container-id-6 label.sk-toggleable__label-arrow:hover:before {
  color: var(--sklearn-color-text);
}

/* Toggleable content - dropdown */

#sk-container-id-6 div.sk-toggleable__content {
  max-height: 0;
  max-width: 0;
  overflow: hidden;
  text-align: left;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-6 div.sk-toggleable__content.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-6 div.sk-toggleable__content pre {
  margin: 0.2em;
  border-radius: 0.25em;
  color: var(--sklearn-color-text);
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-6 div.sk-toggleable__content.fitted pre {
  /* unfitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-6 input.sk-toggleable__control:checked~div.sk-toggleable__content {
  /* Expand drop-down */
  max-height: 200px;
  max-width: 100%;
  overflow: auto;
}

#sk-container-id-6 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {
  content: "▾";
}

/* Pipeline/ColumnTransformer-specific style */

#sk-container-id-6 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-6 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator-specific style */

/* Colorize estimator box */
#sk-container-id-6 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-6 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

#sk-container-id-6 div.sk-label label.sk-toggleable__label,
#sk-container-id-6 div.sk-label label {
  /* The background is the default theme color */
  color: var(--sklearn-color-text-on-default-background);
}

/* On hover, darken the color of the background */
#sk-container-id-6 div.sk-label:hover label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

/* Label box, darken color on hover, fitted */
#sk-container-id-6 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator label */

#sk-container-id-6 div.sk-label label {
  font-family: monospace;
  font-weight: bold;
  display: inline-block;
  line-height: 1.2em;
}

#sk-container-id-6 div.sk-label-container {
  text-align: center;
}

/* Estimator-specific */
#sk-container-id-6 div.sk-estimator {
  font-family: monospace;
  border: 1px dotted var(--sklearn-color-border-box);
  border-radius: 0.25em;
  box-sizing: border-box;
  margin-bottom: 0.5em;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-6 div.sk-estimator.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

/* on hover */
#sk-container-id-6 div.sk-estimator:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-6 div.sk-estimator.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Specification for estimator info (e.g. "i" and "?") */

/* Common style for "i" and "?" */

.sk-estimator-doc-link,
a:link.sk-estimator-doc-link,
a:visited.sk-estimator-doc-link {
  float: right;
  font-size: smaller;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1em;
  height: 1em;
  width: 1em;
  text-decoration: none !important;
  margin-left: 1ex;
  /* unfitted */
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
  color: var(--sklearn-color-unfitted-level-1);
}

.sk-estimator-doc-link.fitted,
a:link.sk-estimator-doc-link.fitted,
a:visited.sk-estimator-doc-link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
div.sk-estimator:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover,
div.sk-label-container:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

div.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover,
div.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

/* Span, style for the box shown on hovering the info icon */
.sk-estimator-doc-link span {
  display: none;
  z-index: 9999;
  position: relative;
  font-weight: normal;
  right: .2ex;
  padding: .5ex;
  margin: .5ex;
  width: min-content;
  min-width: 20ex;
  max-width: 50ex;
  color: var(--sklearn-color-text);
  box-shadow: 2pt 2pt 4pt #999;
  /* unfitted */
  background: var(--sklearn-color-unfitted-level-0);
  border: .5pt solid var(--sklearn-color-unfitted-level-3);
}

.sk-estimator-doc-link.fitted span {
  /* fitted */
  background: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-3);
}

.sk-estimator-doc-link:hover span {
  display: block;
}

/* "?"-specific style due to the `<a>` HTML tag */

#sk-container-id-6 a.estimator_doc_link {
  float: right;
  font-size: 1rem;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1rem;
  height: 1rem;
  width: 1rem;
  text-decoration: none;
  /* unfitted */
  color: var(--sklearn-color-unfitted-level-1);
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
}

#sk-container-id-6 a.estimator_doc_link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
#sk-container-id-6 a.estimator_doc_link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

#sk-container-id-6 a.estimator_doc_link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
}
</style><div id="sk-container-id-6" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>RandomForestRegressor(max_depth=5, n_estimators=25)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator fitted sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-6" type="checkbox" checked=""><label for="sk-estimator-id-6" class="sk-toggleable__label fitted sk-toggleable__label-arrow fitted">&nbsp;&nbsp;RandomForestRegressor<a class="sk-estimator-doc-link fitted" rel="noreferrer" target="_blank" href="https://scikit-learn.org/1.4/modules/generated/sklearn.ensemble.RandomForestRegressor.html">?<span>Documentation for RandomForestRegressor</span></a><span class="sk-estimator-doc-link fitted">i<span>Fitted</span></span></label><div class="sk-toggleable__content fitted"><pre>RandomForestRegressor(max_depth=5, n_estimators=25)</pre></div> </div></div></div></div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="section-30" class="slide level2">
<h2></h2>
<ol start="8" type="1">
<li>Evaluating the Model on Test Set.</li>
</ol>
<div id="024eec43" class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href=""></a>y_pred <span class="op">=</span> model.predict(X_test)</span>
<span id="cb71-2"><a href=""></a>mse <span class="op">=</span> mean_squared_error(y_test, y_pred)</span>
<span id="cb71-3"><a href=""></a>rmse <span class="op">=</span> np.sqrt(mse)</span>
<span id="cb71-4"><a href=""></a></span>
<span id="cb71-5"><a href=""></a><span class="bu">print</span>(<span class="ss">f'Mean Squared Error: </span><span class="sc">{</span>mse<span class="sc">}</span><span class="ss">'</span>)</span>
<span id="cb71-6"><a href=""></a><span class="bu">print</span>(<span class="ss">f'Root Mean Squared Error: </span><span class="sc">{</span>rmse<span class="sc">}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Mean Squared Error: 6015563211.304963
Root Mean Squared Error: 77560.06196042498</code></pre>
</div>
</div>
<div id="663769f4" class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href=""></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> explained_variance_score</span>
<span id="cb73-2"><a href=""></a></span>
<span id="cb73-3"><a href=""></a>result<span class="op">=</span>explained_variance_score(y_test,y_pred,multioutput<span class="op">=</span><span class="st">'uniform_average'</span>)</span>
<span id="cb73-4"><a href=""></a><span class="bu">print</span>(<span class="ss">f'Explained Variance Score: </span><span class="sc">{</span>result<span class="sc">}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Explained Variance Score: 0.5601323657775281</code></pre>
</div>
</div>
</section>
<section id="section-31" class="slide level2">
<h2></h2>
<ol start="9" type="1">
<li>Find Feature Importance.</li>
</ol>
<div id="d9359fed" class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href=""></a>X <span class="op">=</span> df[[<span class="st">'housing_median_age'</span>,</span>
<span id="cb75-2"><a href=""></a>       <span class="st">'total_rooms'</span>, <span class="st">'total_bedrooms'</span>, <span class="st">'population'</span>, <span class="st">'households'</span>,</span>
<span id="cb75-3"><a href=""></a>       <span class="st">'median_income'</span>]]</span>
<span id="cb75-4"><a href=""></a>feature_importances <span class="op">=</span> model.feature_importances_</span>
<span id="cb75-5"><a href=""></a>feature_importances_df <span class="op">=</span> pd.DataFrame({</span>
<span id="cb75-6"><a href=""></a>    <span class="st">'Feature'</span>: X.columns,</span>
<span id="cb75-7"><a href=""></a>    <span class="st">'Importance'</span>: feature_importances</span>
<span id="cb75-8"><a href=""></a>}).sort_values(by<span class="op">=</span><span class="st">'Importance'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb75-9"><a href=""></a></span>
<span id="cb75-10"><a href=""></a>feature_importances_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="371">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Feature</th>
<th data-quarto-table-cell-role="th">Importance</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>median_income</td>
<td>0.870108</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">0</td>
<td>housing_median_age</td>
<td>0.093949</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>total_bedrooms</td>
<td>0.016046</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>households</td>
<td>0.010578</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>total_rooms</td>
<td>0.005787</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>population</td>
<td>0.003532</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section></section>
<section>
<section id="problem-5-data-analysis-with-finance-stock" class="title-slide slide level1 center">
<h1>Problem 5: Data Analysis with Finance Stock</h1>

</section>
<section id="section-32" class="slide level2">
<h2></h2>
<ol type="1">
<li>Data import</li>
</ol>
<div id="5a2b64dd" class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href=""></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb76-2"><a href=""></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb76-3"><a href=""></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb76-4"><a href=""></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="e5757425" class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href=""></a>df <span class="op">=</span> pd.read_csv(<span class="st">'datasets/5-dji.csv'</span>)</span>
<span id="cb77-2"><a href=""></a>df[<span class="st">'Date'</span>] <span class="op">=</span> pd.to_datetime(df[<span class="st">'Date'</span>])</span>
<span id="cb77-3"><a href=""></a>df.head(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="373">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Date</th>
<th data-quarto-table-cell-role="th">Open</th>
<th data-quarto-table-cell-role="th">High</th>
<th data-quarto-table-cell-role="th">Low</th>
<th data-quarto-table-cell-role="th">Close</th>
<th data-quarto-table-cell-role="th">Adj Close</th>
<th data-quarto-table-cell-role="th">Volume</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2007-01-03</td>
<td>12459.540039</td>
<td>12580.349609</td>
<td>12404.820312</td>
<td>12474.519531</td>
<td>12474.519531</td>
<td>327200000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2007-01-04</td>
<td>12473.160156</td>
<td>12510.410156</td>
<td>12403.860352</td>
<td>12480.690430</td>
<td>12480.690430</td>
<td>259060000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2007-01-05</td>
<td>12480.049805</td>
<td>12480.129883</td>
<td>12365.410156</td>
<td>12398.009766</td>
<td>12398.009766</td>
<td>235220000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="section-33" class="slide level2">
<h2></h2>
<ol start="2" type="1">
<li>Data Visualization &amp; Return.</li>
</ol>
<div class="panel-tabset">
<ul id="tabset-8" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-8-1">Volume vs Date</a></li><li><a href="#tabset-8-2">Close price vs Date</a></li><li><a href="#tabset-8-3">Return vs Date</a></li></ul>
<div class="tab-content">
<div id="tabset-8-1">
<div id="6df75f04" class="cell" data-execution_count="59">
<details class="code-fold">
<summary>expand for full code</summary>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">4</span>))</span>
<span id="cb78-2"><a href=""></a>plt.plot(df[<span class="st">'Date'</span>], df[<span class="st">'Close'</span>], label<span class="op">=</span><span class="st">'Close Price'</span>)</span>
<span id="cb78-3"><a href=""></a>plt.xlabel(<span class="st">'Date'</span>)</span>
<span id="cb78-4"><a href=""></a>plt.ylabel(<span class="st">'Close Price'</span>)</span>
<span id="cb78-5"><a href=""></a>plt.title(<span class="st">'DJI Close Price Over Time'</span>)</span>
<span id="cb78-6"><a href=""></a>plt.legend()</span>
<span id="cb78-7"><a href=""></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="template_files/figure-revealjs/cell-60-output-1.png" width="982" height="376"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-8-2">
<div id="b90fb3bb" class="cell" data-execution_count="60">
<details class="code-fold">
<summary>expand for full code</summary>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href=""></a><span class="co"># plot volume vs date</span></span>
<span id="cb79-2"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">4</span>))</span>
<span id="cb79-3"><a href=""></a>plt.plot(df[<span class="st">'Date'</span>], df[<span class="st">'Volume'</span>])</span>
<span id="cb79-4"><a href=""></a>plt.title(<span class="st">'Volume vs Date'</span>)</span>
<span id="cb79-5"><a href=""></a>plt.xlabel(<span class="st">'Date'</span>)</span>
<span id="cb79-6"><a href=""></a>plt.ylabel(<span class="st">'Volume'</span>)</span>
<span id="cb79-7"><a href=""></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="template_files/figure-revealjs/cell-61-output-1.png" width="948" height="376"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-8-3">
<div id="d8866a2c" class="cell" data-execution_count="61">
<details class="code-fold">
<summary>expand for full code</summary>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href=""></a>df[<span class="st">'Returns'</span>] <span class="op">=</span> df[<span class="st">'Close'</span>].pct_change()</span>
<span id="cb80-2"><a href=""></a><span class="co"># Plot the returns with Date</span></span>
<span id="cb80-3"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">4</span>))</span>
<span id="cb80-4"><a href=""></a>plt.plot(df[<span class="st">'Date'</span>], df[<span class="st">'Returns'</span>], label<span class="op">=</span><span class="st">'Returns'</span>, color<span class="op">=</span><span class="st">'red'</span>)</span>
<span id="cb80-5"><a href=""></a>plt.xlabel(<span class="st">'Date'</span>)</span>
<span id="cb80-6"><a href=""></a>plt.ylabel(<span class="st">'Returns'</span>)</span>
<span id="cb80-7"><a href=""></a>plt.title(<span class="st">'DJI Returns Over Time'</span>)</span>
<span id="cb80-8"><a href=""></a>plt.legend()</span>
<span id="cb80-9"><a href=""></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="template_files/figure-revealjs/cell-62-output-1.png" width="980" height="376"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="section-34" class="slide level2">
<h2></h2>
<ol start="3" type="1">
<li>Backtesting a Simple Momentum Strategy.</li>
</ol>
<div id="3d14aed9" class="cell" data-execution_count="62">
<details class="code-fold">
<summary>expand for full code</summary>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb81-1"><a href=""></a>df[<span class="st">'Position'</span>] <span class="op">=</span> np.where(df[<span class="st">'Returns'</span>] <span class="op">&gt;</span> <span class="dv">0</span>, <span class="dv">1</span>, <span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb81-2"><a href=""></a></span>
<span id="cb81-3"><a href=""></a>df[<span class="st">'Strategy_Returns'</span>] <span class="op">=</span> df[<span class="st">'Position'</span>].shift(<span class="dv">1</span>) <span class="op">*</span> df[<span class="st">'Returns'</span>]</span>
<span id="cb81-4"><a href=""></a></span>
<span id="cb81-5"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">4</span>))</span>
<span id="cb81-6"><a href=""></a>plt.plot(df[<span class="st">'Date'</span>], (<span class="dv">1</span> <span class="op">+</span> df[<span class="st">'Strategy_Returns'</span>]).cumprod(), label<span class="op">=</span><span class="st">'Momentum Strategy'</span>)</span>
<span id="cb81-7"><a href=""></a>plt.plot(df[<span class="st">'Date'</span>], (<span class="dv">1</span> <span class="op">+</span> df[<span class="st">'Returns'</span>]).cumprod(), label<span class="op">=</span><span class="st">'Buy and Hold Strategy'</span>)</span>
<span id="cb81-8"><a href=""></a>plt.xlabel(<span class="st">'Date'</span>)</span>
<span id="cb81-9"><a href=""></a>plt.ylabel(<span class="st">'Cumulative Returns'</span>)</span>
<span id="cb81-10"><a href=""></a>plt.title(<span class="st">'Momentum Strategy vs Buy and Hold Strategy'</span>)</span>
<span id="cb81-11"><a href=""></a>plt.legend()</span>
<span id="cb81-12"><a href=""></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="template_files/figure-revealjs/cell-63-output-1.png" width="961" height="376"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="section-35" class="slide level2">
<h2></h2>
<ol start="4" type="1">
<li>More Complex Strategies &amp; Backtesting Vs. Fitting.</li>
</ol>
<div id="67c7d1e7" class="cell" data-execution_count="63">
<details class="code-fold">
<summary>expand for full code</summary>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href=""></a><span class="co"># Define the short-term and long-term moving averages</span></span>
<span id="cb82-2"><a href=""></a>short_window <span class="op">=</span> <span class="dv">40</span></span>
<span id="cb82-3"><a href=""></a>long_window <span class="op">=</span> <span class="dv">100</span></span>
<span id="cb82-4"><a href=""></a></span>
<span id="cb82-5"><a href=""></a><span class="co"># Calculate the moving averages</span></span>
<span id="cb82-6"><a href=""></a>df[<span class="st">'Short_MA'</span>] <span class="op">=</span> df[<span class="st">'Close'</span>].rolling(window<span class="op">=</span>short_window, min_periods<span class="op">=</span><span class="dv">1</span>).mean()</span>
<span id="cb82-7"><a href=""></a>df[<span class="st">'Long_MA'</span>] <span class="op">=</span> df[<span class="st">'Close'</span>].rolling(window<span class="op">=</span>long_window, min_periods<span class="op">=</span><span class="dv">1</span>).mean()</span>
<span id="cb82-8"><a href=""></a></span>
<span id="cb82-9"><a href=""></a><span class="co"># Generate signals</span></span>
<span id="cb82-10"><a href=""></a>df[<span class="st">'Signal'</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb82-11"><a href=""></a>df[<span class="st">'Signal'</span>][short_window:] <span class="op">=</span> np.where(df[<span class="st">'Short_MA'</span>][short_window:] <span class="op">&gt;</span> df[<span class="st">'Long_MA'</span>][short_window:], <span class="dv">1</span>, <span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb82-12"><a href=""></a></span>
<span id="cb82-13"><a href=""></a><span class="co"># Calculate strategy returns</span></span>
<span id="cb82-14"><a href=""></a>df[<span class="st">'Strategy_Returns_MA'</span>] <span class="op">=</span> df[<span class="st">'Signal'</span>].shift(<span class="dv">1</span>) <span class="op">*</span> df[<span class="st">'Returns'</span>]</span>
<span id="cb82-15"><a href=""></a></span>
<span id="cb82-16"><a href=""></a><span class="co"># Plot the strategy performance</span></span>
<span id="cb82-17"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">4</span>))</span>
<span id="cb82-18"><a href=""></a>plt.plot(df[<span class="st">'Date'</span>], (<span class="dv">1</span> <span class="op">+</span> df[<span class="st">'Strategy_Returns_MA'</span>]).cumprod(), label<span class="op">=</span><span class="st">'Moving Average Crossover Strategy'</span>)</span>
<span id="cb82-19"><a href=""></a>plt.plot(df[<span class="st">'Date'</span>], (<span class="dv">1</span> <span class="op">+</span> df[<span class="st">'Returns'</span>]).cumprod(), label<span class="op">=</span><span class="st">'Buy and Hold Strategy'</span>)</span>
<span id="cb82-20"><a href=""></a>plt.xlabel(<span class="st">'Date'</span>)</span>
<span id="cb82-21"><a href=""></a>plt.ylabel(<span class="st">'Cumulative Returns'</span>)</span>
<span id="cb82-22"><a href=""></a>plt.title(<span class="st">'Moving Average Crossover Strategy vs Buy and Hold Strategy'</span>)</span>
<span id="cb82-23"><a href=""></a>plt.legend()</span>
<span id="cb82-24"><a href=""></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="template_files/figure-revealjs/cell-64-output-1.png" width="969" height="376"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="section-36" class="slide level2">
<h2></h2>
<ol start="5" type="1">
<li>Simple Moving Average (SMA).</li>
</ol>
<div id="137f930d" class="cell" data-execution_count="64">
<details class="code-fold">
<summary>expand for full code</summary>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href=""></a><span class="co"># Calculate the Simple Moving Average (SMA)</span></span>
<span id="cb83-2"><a href=""></a>df[<span class="st">'SMA'</span>] <span class="op">=</span> df[<span class="st">'Close'</span>].rolling(window<span class="op">=</span>short_window, min_periods<span class="op">=</span><span class="dv">1</span>).mean()</span>
<span id="cb83-3"><a href=""></a></span>
<span id="cb83-4"><a href=""></a><span class="co"># Plot the SMA with the Close price</span></span>
<span id="cb83-5"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">4</span>))</span>
<span id="cb83-6"><a href=""></a>plt.plot(df[<span class="st">'Date'</span>], df[<span class="st">'Close'</span>], label<span class="op">=</span><span class="st">'Close Price'</span>)</span>
<span id="cb83-7"><a href=""></a>plt.plot(df[<span class="st">'Date'</span>], df[<span class="st">'SMA'</span>], label<span class="op">=</span><span class="st">'Simple Moving Average (SMA)'</span>, color<span class="op">=</span><span class="st">'orange'</span>)</span>
<span id="cb83-8"><a href=""></a>plt.xlabel(<span class="st">'Date'</span>)</span>
<span id="cb83-9"><a href=""></a>plt.ylabel(<span class="st">'Price'</span>)</span>
<span id="cb83-10"><a href=""></a>plt.title(<span class="st">'Simple Moving Average (SMA) vs Close Price'</span>)</span>
<span id="cb83-11"><a href=""></a>plt.legend()</span>
<span id="cb83-12"><a href=""></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="template_files/figure-revealjs/cell-65-output-1.png" width="982" height="376"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="section-37" class="slide level2">
<h2></h2>
<ol start="6" type="1">
<li>Backtesting Simple Moving Average</li>
</ol>
<div id="b8e3c1f1" class="cell" data-execution_count="65">
<details class="code-fold">
<summary>expand for full code</summary>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb84-1"><a href=""></a><span class="co"># Generate trading signals based on SMA</span></span>
<span id="cb84-2"><a href=""></a>df[<span class="st">'SMA_Signal'</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb84-3"><a href=""></a>df[<span class="st">'SMA_Signal'</span>][short_window:] <span class="op">=</span> np.where(df[<span class="st">'Close'</span>][short_window:] <span class="op">&gt;</span> df[<span class="st">'SMA'</span>][short_window:], <span class="dv">1</span>, <span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb84-4"><a href=""></a></span>
<span id="cb84-5"><a href=""></a><span class="co"># Calculate strategy returns</span></span>
<span id="cb84-6"><a href=""></a>df[<span class="st">'SMA_Strategy_Returns'</span>] <span class="op">=</span> df[<span class="st">'SMA_Signal'</span>].shift(<span class="dv">1</span>) <span class="op">*</span> df[<span class="st">'Returns'</span>]</span>
<span id="cb84-7"><a href=""></a></span>
<span id="cb84-8"><a href=""></a><span class="co"># Plot the strategy performance</span></span>
<span id="cb84-9"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">4</span>))</span>
<span id="cb84-10"><a href=""></a>plt.plot(df[<span class="st">'Date'</span>], (<span class="dv">1</span> <span class="op">+</span> df[<span class="st">'SMA_Strategy_Returns'</span>]).cumprod(), label<span class="op">=</span><span class="st">'SMA Strategy'</span>)</span>
<span id="cb84-11"><a href=""></a>plt.plot(df[<span class="st">'Date'</span>], (<span class="dv">1</span> <span class="op">+</span> df[<span class="st">'Returns'</span>]).cumprod(), label<span class="op">=</span><span class="st">'Buy and Hold Strategy'</span>)</span>
<span id="cb84-12"><a href=""></a>plt.xlabel(<span class="st">'Date'</span>)</span>
<span id="cb84-13"><a href=""></a>plt.ylabel(<span class="st">'Cumulative Returns'</span>)</span>
<span id="cb84-14"><a href=""></a>plt.title(<span class="st">'SMA Strategy vs Buy and Hold Strategy'</span>)</span>
<span id="cb84-15"><a href=""></a>plt.legend()</span>
<span id="cb84-16"><a href=""></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="template_files/figure-revealjs/cell-66-output-1.png" width="969" height="376"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="section-38" class="slide level2">
<h2></h2>
<ol start="7" type="1">
<li>Backtesting the Perfect Strategy In Case You Can Predict The Future.</li>
</ol>
<div id="358bd546" class="cell" data-execution_count="66">
<details class="code-fold">
<summary>expand for full code</summary>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href=""></a><span class="co"># Generate trading signals based on future returns</span></span>
<span id="cb85-2"><a href=""></a>df[<span class="st">'Perfect_Signal'</span>] <span class="op">=</span> np.where(df[<span class="st">'Returns'</span>].shift(<span class="op">-</span><span class="dv">1</span>) <span class="op">&gt;</span> <span class="dv">0</span>, <span class="dv">1</span>, <span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb85-3"><a href=""></a></span>
<span id="cb85-4"><a href=""></a><span class="co"># Calculate strategy returns</span></span>
<span id="cb85-5"><a href=""></a>df[<span class="st">'Perfect_Strategy_Returns'</span>] <span class="op">=</span> df[<span class="st">'Perfect_Signal'</span>] <span class="op">*</span> df[<span class="st">'Returns'</span>]</span>
<span id="cb85-6"><a href=""></a></span>
<span id="cb85-7"><a href=""></a><span class="co"># Plot the strategy performance</span></span>
<span id="cb85-8"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">4</span>))</span>
<span id="cb85-9"><a href=""></a>plt.plot(df[<span class="st">'Date'</span>], (<span class="dv">1</span> <span class="op">+</span> df[<span class="st">'Perfect_Strategy_Returns'</span>]).cumprod(), label<span class="op">=</span><span class="st">'Perfect Strategy'</span>)</span>
<span id="cb85-10"><a href=""></a>plt.plot(df[<span class="st">'Date'</span>], (<span class="dv">1</span> <span class="op">+</span> df[<span class="st">'Returns'</span>]).cumprod(), label<span class="op">=</span><span class="st">'Buy and Hold Strategy'</span>)</span>
<span id="cb85-11"><a href=""></a>plt.xlabel(<span class="st">'Date'</span>)</span>
<span id="cb85-12"><a href=""></a>plt.ylabel(<span class="st">'Cumulative Returns'</span>)</span>
<span id="cb85-13"><a href=""></a>plt.title(<span class="st">'Perfect Strategy vs Buy and Hold Strategy'</span>)</span>
<span id="cb85-14"><a href=""></a>plt.legend()</span>
<span id="cb85-15"><a href=""></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="template_files/figure-revealjs/cell-67-output-1.png" width="961" height="376"></p>
</figure>
</div>
</div>
</div>
</section></section>
<section id="thank-you-for-your-attention" class="title-slide slide level1 center">
<h1><strong>Thank You For Your Attention!</strong></h1>

</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="itc_ams.png" class="slide-logo"></p>
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="template_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="template_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="template_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="template_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="template_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="template_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="template_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="template_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="template_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="template_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'h.v',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'default',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        // For code content inside modals, clipBoardJS needs to be initialized with a container option
        // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>